(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9773:function(e,t,a){Promise.resolve().then(a.bind(a,8216))},8216:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return UnifiedMessaging}});var r=a(7437),s=a(2265),l=a(2167),i=a(5251),o=a(3159);function MessageComposer(e){let{onSendMessage:t,selectedPlatform:a,onClose:l}=e,[i,n]=(0,s.useState)(""),[d,c]=(0,s.useState)([]),[x,g]=(0,s.useState)(!1),[m,h]=(0,s.useState)(!1),u=(0,s.useRef)(null),handleSend=()=>{(i.trim()||d.length>0)&&(t({content:i,type:d.length>0?"image":"text",platform:a,attachments:d}),n(""),c([]),l())},removeAttachment=e=>{c(t=>t.filter((t,a)=>a!==e))};return(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-t-3xl w-full max-w-md max-h-[80vh] flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"New Message"}),(0,r.jsx)("button",{onClick:l,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,r.jsx)(o.aHS,{className:"h-5 w-5"})})]}),(0,r.jsx)("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"To:"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white capitalize",children:a})]})}),d.length>0&&(0,r.jsx)("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:d.map((e,t)=>(0,r.jsxs)("div",{className:"relative",children:[e.type.startsWith("image/")?(0,r.jsx)("img",{src:URL.createObjectURL(e),alt:e.name,className:"w-16 h-16 object-cover rounded-lg"}):(0,r.jsx)("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:(0,r.jsx)(o.jLr,{className:"h-6 w-6 text-gray-600 dark:text-gray-400"})}),(0,r.jsx)("button",{onClick:()=>removeAttachment(t),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-xs",children:"\xd7"})]},t))})}),(0,r.jsx)("div",{className:"flex-1 p-4",children:(0,r.jsx)("textarea",{value:i,onChange:e=>n(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),handleSend())},placeholder:"Type your message...",className:"w-full h-full resize-none border-0 focus:ring-0 focus:outline-none text-gray-900 dark:text-white bg-transparent placeholder-gray-500 dark:placeholder-gray-400",rows:4})}),(0,r.jsx)("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("button",{onClick:()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.click()},className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,r.jsx)(o.jLr,{className:"h-5 w-5"})}),(0,r.jsx)("button",{onClick:()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.click()},className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,r.jsx)(o.H3h,{className:"h-5 w-5"})}),(0,r.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,r.jsx)(o.KoQ,{className:"h-5 w-5"})}),(0,r.jsx)("button",{onClick:()=>h(!m),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 ".concat(m?"text-red-500":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"),children:(0,r.jsx)(o.uYL,{className:"h-5 w-5"})}),(0,r.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,r.jsx)(o.Nh4,{className:"h-5 w-5"})}),(0,r.jsx)("button",{onClick:()=>g(!x),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,r.jsx)(o.vtP,{className:"h-5 w-5"})})]}),(0,r.jsx)("button",{onClick:handleSend,disabled:!i.trim()&&0===d.length,className:"p-3 rounded-full ".concat(i.trim()||d.length>0?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-400 cursor-not-allowed"," transition-colors"),children:(0,r.jsx)(o.Y2X,{className:"h-5 w-5"})})]})}),(0,r.jsx)("input",{ref:u,type:"file",multiple:!0,accept:"image/*,video/*,audio/*,.pdf,.doc,.docx",onChange:e=>{let t=Array.from(e.target.files||[]);c(e=>[...e,...t])},className:"hidden"})]})})}var n=a(5925);function NotificationManager(){let[e,t]=(0,s.useState)([]),[a,l]=(0,s.useState)("default");(0,s.useEffect)(()=>{"Notification"in window&&l(Notification.permission);let e=[{id:"1",title:"New Message",body:"You have a new message from @elonmusk",platform:"twitter",timestamp:new Date(Date.now()-3e5),read:!1,type:"message"},{id:"2",title:"SMS Received",body:"New SMS from +1234567890",platform:"sms",timestamp:new Date(Date.now()-6e5),read:!1,type:"message"},{id:"3",title:"Email Alert",body:"New email from support@jacameno.com",platform:"email",timestamp:new Date(Date.now()-9e5),read:!0,type:"message"}];t(e),e.filter(e=>!e.read).forEach(e=>{n.ZP.success("".concat(e.title,": ").concat(e.body),{duration:5e3,icon:"\uD83D\uDCF1"})})},[]);let requestPermission=async()=>{if("Notification"in window){let e=await Notification.requestPermission();l(e),"granted"===e?n.ZP.success("Notifications enabled!"):n.ZP.error("Notifications denied")}},markAsRead=e=>{t(t=>t.map(t=>t.id===e?{...t,read:!0}:t))},dismissNotification=e=>{t(t=>t.filter(t=>t.id!==e))},i=e.filter(e=>!e.read).length;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.x7,{position:"top-right",toastOptions:{style:{background:"#363636",color:"#fff"}}}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:()=>{"granted"!==a&&requestPermission()},className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 relative",children:[(0,r.jsx)(o.Z3q,{className:"h-5 w-5"}),i>0&&(0,r.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:i})]}),e.length>0&&(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:[(0,r.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Notifications"})}),(0,r.jsx)("div",{className:"max-h-96 overflow-y-auto",children:e.map(e=>(0,r.jsx)("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 ".concat(e.read?"":"bg-blue-50 dark:bg-blue-900/20"),children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.title}),(0,r.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:e.platform})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:e.body}),(0,r.jsx)("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:e.timestamp.toLocaleTimeString()})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[!e.read&&(0,r.jsx)("button",{onClick:()=>markAsRead(e.id),className:"text-xs bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600",children:"Mark Read"}),(0,r.jsx)("button",{onClick:()=>dismissNotification(e.id),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,r.jsx)(o.aHS,{className:"h-4 w-4"})})]})]})},e.id))}),"granted"!==a&&(0,r.jsx)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:(0,r.jsx)("button",{onClick:requestPermission,className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Enable Notifications"})})]})]})]})}let d=[{id:"twitter",name:"Twitter",icon:o.fWC,color:"text-blue-400"},{id:"facebook",name:"Facebook",icon:o.Am9,color:"text-blue-600"},{id:"instagram",name:"Instagram",icon:o.Zf_,color:"text-pink-500"},{id:"discord",name:"Discord",icon:o.j2d,color:"text-indigo-500"},{id:"telegram",name:"Telegram",icon:o.Ww5,color:"text-blue-500"},{id:"whatsapp",name:"WhatsApp",icon:o.xpo,color:"text-green-500"},{id:"sms",name:"SMS",icon:o.bJx,color:"text-gray-600"},{id:"email",name:"Email",icon:o.SRX,color:"text-red-500"}];function UnifiedMessaging(){let[e,t]=(0,s.useState)("all"),[a,n]=(0,s.useState)([]),[c,x]=(0,s.useState)(""),[g,m]=(0,s.useState)(!1),[h,u]=(0,s.useState)([]),[y,b]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=[{id:"1",platform:"twitter",from:"elonmusk",content:"Mars colony update: First crew arriving in 2029 \uD83D\uDE80",timestamp:new Date(Date.now()-3e5),read:!1,type:"text"},{id:"2",platform:"facebook",from:"markzuckerberg",content:"Excited about the future of the metaverse!",timestamp:new Date(Date.now()-6e5),read:!0,type:"text"},{id:"3",platform:"sms",from:"+1234567890",content:"Your package has been delivered",timestamp:new Date(Date.now()-9e5),read:!1,type:"text"},{id:"4",platform:"email",from:"support@jacameno.com",content:"Welcome to Jacameno Messaging!",timestamp:new Date(Date.now()-12e5),read:!0,type:"text"}];n(e)},[]);let f=a.filter(t=>{let a="all"===e||t.platform===e,r=t.content.toLowerCase().includes(c.toLowerCase())||t.from.toLowerCase().includes(c.toLowerCase());return a&&r}),p=a.filter(e=>!e.read).length;return(0,r.jsxs)("div",{className:"h-screen bg-gray-50 dark:bg-gray-900 flex flex-col",children:[(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Jacameno Messaging"}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(o.U41,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,r.jsx)("input",{type:"text",placeholder:"Search messages...",value:c,onChange:e=>x(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsx)(NotificationManager,{}),(0,r.jsx)("button",{onClick:()=>m(!g),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,r.jsx)(o.p4t,{className:"h-5 w-5"})})]})]}),(0,r.jsxs)("div",{className:"flex space-x-1 mt-4 overflow-x-auto",children:[(0,r.jsxs)("button",{onClick:()=>t("all"),className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap ".concat("all"===e?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[(0,r.jsx)("span",{children:"All"}),p>0&&(0,r.jsx)("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:p})]}),d.map(s=>{let l=s.icon,i=a.filter(e=>e.platform===s.id&&!e.read).length;return(0,r.jsxs)("button",{onClick:()=>t(s.id),className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap ".concat(e===s.id?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[(0,r.jsx)(l,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:s.name}),i>0&&(0,r.jsx)("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:i})]},s.id)})]})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,r.jsx)(l.M,{children:f.map(e=>{let t=d.find(t=>t.id===e.platform),a=(null==t?void 0:t.icon)||o.SRX;return(0,r.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"border-b border-gray-200 dark:border-gray-700 p-4 hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer ".concat(e.read?"":"bg-blue-50 dark:bg-blue-900/20"),children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"p-2 rounded-full ".concat(null==t?void 0:t.color," bg-gray-100 dark:bg-gray-700"),children:(0,r.jsx)(a,{className:"h-5 w-5"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:e.from}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.timestamp.toLocaleTimeString()})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1 line-clamp-2",children:e.content})]}),!e.read&&(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 mt-2"})]})},e.id)})})}),(0,r.jsxs)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("button",{onClick:()=>b(!0),className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center space-x-2 transition-colors",children:[(0,r.jsx)(o.wEH,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"Compose New Message"})]}),(0,r.jsx)(l.M,{children:y&&(0,r.jsx)(MessageComposer,{onSendMessage:e=>{console.log("Sending message:",e)},selectedPlatform:"all"===e?"sms":e,onClose:()=>b(!1)})})]})]})}}},function(e){e.O(0,[420,793,971,472,744],function(){return e(e.s=9773)}),_N_E=e.O()}]);